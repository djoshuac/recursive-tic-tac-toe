webpackJsonp([1],{"+h1B":function(n,t,l){"use strict";var e=l("/oeL"),o=l("aR8+"),u=l("wQAS"),r=l("q4dy"),i=l("qbdv"),a=l("fc+i"),c=l("YML9"),s=l("vH/Q");l.d(t,"a",function(){return f});var f=e.b(o.a,[u.a],function(n){return e.c([e.d(512,e.e,e.f,[[8,[r.a]],[3,e.e],e.g]),e.d(5120,e.h,e.i,[[3,e.h]]),e.d(4608,i.a,i.b,[e.h]),e.d(4608,e.j,e.j,[]),e.d(5120,e.k,e.l,[]),e.d(5120,e.m,e.n,[]),e.d(5120,e.o,e.p,[]),e.d(4608,a.b,a.c,[i.c]),e.d(6144,e.q,null,[a.b]),e.d(4608,a.d,a.e,[]),e.d(5120,a.f,function(n,t,l,e){return[new a.g(n),new a.h(t),new a.i(l,e)]},[i.c,i.c,i.c,a.d]),e.d(4608,a.j,a.j,[a.f,e.r]),e.d(135680,a.k,a.k,[i.c]),e.d(4608,a.l,a.l,[a.j,a.k]),e.d(6144,e.s,null,[a.l]),e.d(6144,a.m,null,[a.k]),e.d(4608,e.t,e.t,[e.r]),e.d(4608,a.n,a.n,[i.c]),e.d(4608,a.o,a.o,[i.c]),e.d(4608,c.a,c.a,[]),e.d(4608,s.a,s.a,[]),e.d(512,i.d,i.d,[]),e.d(1024,e.u,a.p,[]),e.d(1024,e.v,function(n,t){return[a.q(n,t)]},[[2,a.r],[2,e.w]]),e.d(512,e.x,e.x,[[2,e.v]]),e.d(131584,e.y,e.y,[e.r,e.z,e.A,e.u,e.e,e.x]),e.d(2048,e.B,null,[e.y]),e.d(512,e.C,e.C,[e.B]),e.d(512,a.s,a.s,[[3,a.s]]),e.d(512,o.a,o.a,[])])})},0:function(n,t,l){n.exports=l("cDNt")},"5wPv":function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e;!function(n){n[n.NoOne=0]="NoOne",n[n.First=1]="First",n[n.Second=2]="Second"}(e||(e={}))},D6zV:function(n,t,l){"use strict";function e(n){return f._12(0,[(n()(),f._13(null,["\n  "])),(n()(),f._14(0,null,null,3,"button",[["class","cell-button"],["style","width:100%;height:100%"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.mark()&&e}return e},null,null)),f._15(278528,null,0,d.h,[f.m,f.o,f.Z,f._0],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),f._17({canMove:0}),(n()(),f._13(null,["\n    ","\n  "])),(n()(),f._13(null,["\n"]))],function(n,t){n(t,2,0,"cell-button",n(t,3,0,t.component.canMark()))},function(n,t){var l=t.component;n(t,4,0,l.getPlayerSymbol(l.game.victor))})}function o(n){return f._12(0,[(n()(),f._13(null,["\n  "])),(n()(),f._14(0,null,null,2,"button",[["class","cell-button"],["style","width:100%;height:100%"]],null,null,null,null,null)),f._15(278528,null,0,d.h,[f.m,f.o,f.Z,f._0],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),f._13(null,["\n    ","\n  "])),(n()(),f._13(null,["\n"]))],function(n,t){n(t,2,0,"cell-button","victor"+t.component.game.victor)},function(n,t){var l=t.component;n(t,3,0,l.getPlayerSymbol(l.game.victor))})}function u(n){return f._12(0,[(n()(),f._14(0,null,null,6,"td",[],null,null,null,null,null)),f._15(278528,null,0,d.h,[f.m,f.o,f.Z,f._0],{ngClass:[0,"ngClass"]},null),(n()(),f._13(null,["\n        "])),(n()(),f._14(0,null,null,2,"app-tic-tac-toe",[],null,null,null,a,_)),f._15(114688,null,0,g.a,[h.a,p.a],{gameId:[0,"gameId"],game:[1,"game"],location:[2,"location"]},null),f._18(1),(n()(),f._13(null,["\n      "]))],function(n,t){var l=t.component;n(t,1,0,"layer"+l.game.layer),n(t,4,0,l.gameId,l.game.subgames[t.context.$implicit],l.location.concat(n(t,5,0,t.context.$implicit)))},null)}function r(n){return f._12(0,[(n()(),f._14(0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),f._13(null,["\n      "])),(n()(),f._19(16777216,null,null,1,null,u)),f._15(802816,null,0,d.i,[f._2,f._3,f.m],{ngForOf:[0,"ngForOf"]},null),(n()(),f._13(null,["\n    "]))],function(n,t){n(t,3,0,t.context.$implicit)},null)}function i(n){return f._12(0,[(n()(),f._13(null,["\n  "])),(n()(),f._14(0,null,null,6,"table",[],null,null,null,null,null)),f._15(278528,null,0,d.h,[f.m,f.o,f.Z,f._0],{ngClass:[0,"ngClass"]},null),(n()(),f._13(null,["\n    "])),(n()(),f._14(0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),f._19(16777216,null,null,1,null,r)),f._15(802816,null,0,d.i,[f._2,f._3,f.m],{ngForOf:[0,"ngForOf"]},null),(n()(),f._13(null,["\n  "])),(n()(),f._13(null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,"game-layer"+l.game.layer),n(t,6,0,l.layout)},null)}function a(n){return f._12(0,[(n()(),f._13(null,["\n"])),(n()(),f._19(16777216,null,null,1,null,e)),f._15(16384,null,0,d.j,[f._2,f._3],{ngIf:[0,"ngIf"]},null),(n()(),f._13(null,["\n"])),(n()(),f._19(16777216,null,null,1,null,o)),f._15(16384,null,0,d.j,[f._2,f._3],{ngIf:[0,"ngIf"]},null),(n()(),f._13(null,["\n"])),(n()(),f._19(16777216,null,null,1,null,i)),f._15(16384,null,0,d.j,[f._2,f._3],{ngIf:[0,"ngIf"]},null),(n()(),f._13(null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,0===l.game.layer&&l.game.victor===l.NoOne),n(t,5,0,l.game.victor!==l.NoOne),n(t,8,0,l.game.layer>0&&l.game.victor===l.NoOne)},null)}function c(n){return f._12(0,[(n()(),f._14(0,null,null,1,"app-tic-tac-toe",[],null,null,null,a,_)),f._15(114688,null,0,g.a,[h.a,p.a],null,null)],function(n,t){n(t,1,0)},null)}var s=l("TYHH"),f=l("/oeL"),d=l("qbdv"),g=l("Qqgg"),h=l("vH/Q"),p=l("YML9");l.d(t,"b",function(){return _}),t.a=a;var v=[s.a],_=f._11({encapsulation:0,styles:v,data:{}});f._16("app-tic-tac-toe",g.a,c,{gameId:"gameId",game:"game",location:"location"},{},[])},HOi5:function(n,t,l){"use strict";function e(n){return r._12(0,[(n()(),r._14(0,null,null,4,"div",[["class","game"]],null,null,null,null,null)),(n()(),r._13(null,["\n  "])),(n()(),r._14(0,null,null,1,"app-tic-tac-toe",[],null,[[null,"gamid"]],function(n,t,l){var e=!0,o=n.component;if("gamid"===t){e=!1!==o.gameId&&e}return e},a.a,a.b)),r._15(114688,null,0,c.a,[s.a,f.a],null,null),(n()(),r._13(null,["\n"])),(n()(),r._13(null,["\n"]))],function(n,t){n(t,3,0)},null)}function o(n){return r._12(0,[(n()(),r._14(0,null,null,1,"app-board",[],null,null,null,e,g)),r._15(114688,null,0,i.a,[s.a],null,null)],function(n,t){n(t,1,0)},null)}var u=l("RMFO"),r=l("/oeL"),i=l("rHPn"),a=l("D6zV"),c=l("Qqgg"),s=l("vH/Q"),f=l("YML9");l.d(t,"b",function(){return g}),t.a=e;var d=[u.a],g=r._11({encapsulation:0,styles:d,data:{}});r._16("app-board",i.a,o,{},{},[])},"LYk+":function(n,t,l){"use strict";var e=l("qYLQ"),o=l("5wPv");l.d(t,"a",function(){return u});var u=function(){function n(){this.nextMoveLocation=[],this.victor=o.a.NoOne,this.turn=o.a.First,this.ticTacToe=new e.a(2,9),this.canMoveSubscribers=[]}return n.prototype.subscribeCanMove=function(n){this.canMoveSubscribers.push(n)},n}()},NhKt:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=[""]},Qqgg:function(n,t,l){"use strict";var e=l("vH/Q"),o=l("YML9"),u=l("N+n4"),r=(l.n(u),l("5wPv"));l.d(t,"a",function(){return i});var i=function(){function n(n,t){var e=this;this.gameStorageService=n,this.ticTacToeService=t,this.layout=[[0,1,2],[3,4,5],[6,7,8]],this.NoOne=r.a.NoOne,l.i(u.isNullOrUndefined)(this.gameId)&&(this.gameId=n.createTicTacToeInceptionGame(),this.game=n.getGame(this.gameId).ticTacToe),l.i(u.isNullOrUndefined)(this.location)&&(this.location=[]),this.canMove=!0,this.gameStorageService.getGame(this.gameId).subscribeCanMove(function(n){e.canMove=n})}return n.prototype.ngOnInit=function(){},n.prototype.getPlayerSymbol=function(n){var t={};return t[r.a.NoOne]="-",t[r.a.First]="X",t[r.a.Second]="O",t[n]},n.prototype.mark=function(){this.ticTacToeService.makeMove(this.gameStorageService.getGame(this.gameId),this.location)},n.prototype.canMark=function(){return this.ticTacToeService.canMakeMove(this.gameStorageService.getGame(this.gameId),this.location)},n.ctorParameters=function(){return[{type:e.a},{type:o.a}]},n}()},RMFO:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=["#game[_ngcontent-%COMP%]{width:100%;height:20em}"]},TYHH:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=[".game-layer2[_ngcontent-%COMP%]{margin:auto;max-width:646px;min-width:646px;height:646px}.game-layer1[_ngcontent-%COMP%]{margin:10px;width:192px;min-width:192px;height:192px}.layer2[_ngcontent-%COMP%]{border:5px solid #323232;width:212px;min-width:212px;height:212px}.layer1[_ngcontent-%COMP%]{border:2px dashed #a9a9a9;width:60px;min-width:60px;height:60px}table[_ngcontent-%COMP%]{border-collapse:collapse;text-align:center;vertical-align:middle}button[_ngcontent-%COMP%]{width:100%;height:100%}button.canMove[_ngcontent-%COMP%]{background-color:#bcf}button.canMove[_ngcontent-%COMP%]:hover{background-color:#ffebcd}button.victor1[_ngcontent-%COMP%]{background-color:red}button.victor2[_ngcontent-%COMP%]{background-color:#ff0}td[_ngcontent-%COMP%]:first-of-type{border-left:none;border-top:none}td[_ngcontent-%COMP%]:nth-of-type(2){border-top:none}td[_ngcontent-%COMP%]:nth-of-type(3){border-right:none;border-top:none}tr[_ngcontent-%COMP%]:nth-of-type(3) > td[_ngcontent-%COMP%]{border-bottom:none}.cell-button[_ngcontent-%COMP%]{outline:none;border:none;background-color:transparent;padding:0;margin:0;width:5em}"]},YML9:function(n,t,l){"use strict";var e=l("5wPv"),o=l("N+n4");l.n(o);l.d(t,"a",function(){return u});var u=function(){function n(){this.cells=[0,1,2,3,4,5,6,7,8],this.layout=[[0,1,2],[3,4,5],[6,7,8]],this.waysToWin=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[6,4,2]]}return n.prototype.testWayToWin=function(n,t){for(var l=n.getChildVictor(t[0]),o=1;o<t.length;o++){var u=n.getChildVictor(t[o]);if(u===e.a.NoOne||u!==l)return e.a.NoOne}return l},n.prototype.testForVictor=function(n){for(var t=0;t<this.waysToWin.length;t++){var l=this.waysToWin[t],o=this.testWayToWin(n,l);if(o!==e.a.NoOne)return o}return e.a.NoOne},n.prototype.canMakeMove=function(n,t){for(var l=0;l<n.nextMoveLocation.length;l++)if(n.nextMoveLocation[l]!==t[l])return!1;return!0},n.prototype.followLocation=function(n,t){for(var l=0;l<t.length;l++)n=n.subgames[t[l]];return n},n.prototype.makeMove=function(n,t){if(!this.canMakeMove(n,t))return void console.log("NOPE!");for(var u=this.followLocation(n.ticTacToe,t),r=n.turn;r!==e.a.NoOne&&!l.i(o.isNullOrUndefined)(u);)u.subgames.length>0&&(r=this.testForVictor(u)),u.victor=r,u=u.parent;r!==e.a.NoOne?n.victor=r:this.nextTurn(n,t),console.log(n)},n.prototype.nextTurn=function(n,t){var u=n.turn===e.a.First?e.a.Second:e.a.First,r=t.slice(0);r.shift();for(var i=this.followLocation(n.ticTacToe,r);i.victor!==e.a.NoOne&&!l.i(o.isNullOrUndefined)(i);)r.shift(),i=i.parent;n.nextMoveLocation=r,n.turn=u},n.ctorParameters=function(){return[]},n}()},"aR8+":function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){function n(){}return n}()},cDNt:function(n,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=l("/oeL"),o=l("p5Ee"),u=l("+h1B"),r=l("fc+i");o.a.production&&l.i(e.a)(),l.i(r.a)().bootstrapModuleFactory(u.a)},p5Ee:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e={production:!0}},q4dy:function(n,t,l){"use strict";function e(n){return r._12(0,[(n()(),r._13(null,["\n"])),(n()(),r._14(0,null,null,2,"app-board",[],null,null,null,i.a,i.b)),r._15(114688,null,0,a.a,[c.a],null,null),(n()(),r._13(null,["\n"])),(n()(),r._13(null,["\n"]))],function(n,t){n(t,2,0)},null)}function o(n){return r._12(0,[(n()(),r._14(0,null,null,1,"app-root",[],null,null,null,e,d)),r._15(49152,null,0,s.a,[],null,null)],null,null)}var u=l("NhKt"),r=l("/oeL"),i=l("HOi5"),a=l("rHPn"),c=l("vH/Q"),s=l("wQAS");l.d(t,"a",function(){return g});var f=[u.a],d=r._11({encapsulation:0,styles:f,data:{}}),g=r._16("app-root",s.a,o,{},{},[])},qYLQ:function(n,t,l){"use strict";var e=l("5wPv");l.d(t,"a",function(){return o});var o=function(){function n(t,l,o){if(this.victor=e.a.NoOne,this.subgames=[],this.layer=t,this.parent=o,t>0)for(var u=0;u<l;u++)this.subgames.push(new n(t-1,l,this))}return n.prototype.getChildVictor=function(n){return this.subgames[n].victor},n}()},qtrl:function(n,t){function l(n){throw new Error("Cannot find module '"+n+"'.")}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="qtrl"},rHPn:function(n,t,l){"use strict";var e=l("vH/Q");l.d(t,"a",function(){return o});var o=function(){function n(n){this.gameStorageService=n}return n.prototype.ngOnInit=function(){this.gameId=this.gameStorageService.createTicTacToeInceptionGame()},n.ctorParameters=function(){return[{type:e.a}]},n}()},"vH/Q":function(n,t,l){"use strict";var e=l("LYk+");l.d(t,"a",function(){return o});var o=function(){function n(){this.games={}}return n.prototype.getGame=function(n){return this.games[n]},n.prototype.createTicTacToeInceptionGame=function(){for(var n,t=0,l=(new Date).getUTCMilliseconds();void 0!==this.games[n];)n="g"+l+":"+t,t+=1;return this.games[n]=new e.a,n},n.ctorParameters=function(){return[]},n}()},wQAS:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){function n(){this.title="app"}return n}()}},[0]);